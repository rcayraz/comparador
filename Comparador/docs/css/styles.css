/* Variables CSS modernas */
:root{
  --bg-primary:#f8fafc;
  --bg-secondary:#ffffff;
  --accent-blue:#3b82f6;
  --accent-blue-dark:#2563eb;
  --accent-purple:#8b5cf6;
  --accent-orange:#f97316;
  --text-primary:#0f172a;
  --text-secondary:#64748b;
  --text-muted:#94a3b8;
  --success:#10b981;
  --danger:#ef4444;
  --warning:#f59e0b;
  --border:#e2e8f0;
  --shadow-sm:0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md:0 4px 6px -1px rgb(0 0 0 / 0.1);
  --shadow-lg:0 10px 15px -3px rgb(0 0 0 / 0.1);
  --shadow-xl:0 20px 25px -5px rgb(0 0 0 / 0.1);
  --max-width:1200px;
  --radius:12px;
  --radius-sm:8px;
  --gap:16px;
  --transition:all 0.2s ease;
}

/* Reset y base */
*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;
  background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);
  background-attachment:fixed;
  color:var(--text-primary);
  line-height:1.6;
  min-height:100vh;
}
.container{max-width:var(--max-width);margin:0 auto;padding:20px}

/* Header mejorado */
.site-header{
  background:rgba(255,255,255,0.95);
  backdrop-filter:blur(10px);
  border-bottom:1px solid var(--border);
  box-shadow:var(--shadow-sm);
  position:sticky;
  top:0;
  z-index:100;
}
.header-inner{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:16px 0;
}
.logo{
  font-weight:800;
  font-size:24px;
  background:linear-gradient(135deg,var(--accent-blue),var(--accent-purple));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-clip:text;
}
.main-nav{display:flex;gap:8px}
.main-nav a{
  padding:8px 16px;
  color:var(--text-secondary);
  text-decoration:none;
  border-radius:var(--radius-sm);
  transition:var(--transition);
  font-weight:500;
}
.main-nav a:hover{background:var(--bg-primary);color:var(--text-primary)}
.main-nav a.active{
  background:linear-gradient(135deg,var(--accent-blue),var(--accent-purple));
  color:white;
}

/* Panel de búsqueda */
.panel{background:transparent;padding:20px 0}
.search-panel{
  background:var(--bg-secondary);
  padding:32px;
  border-radius:var(--radius);
  box-shadow:var(--shadow-lg);
}
.search-panel h1{
  font-size:32px;
  margin-bottom:12px;
  color:var(--text-primary);
  font-weight:700;
}

/* Filtros rediseñados */
.filters{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:20px;
  margin-top:24px;
}

.filter-row{
  display:flex;
  flex-direction:column;
  gap:8px;
}

.filter-row.full-width{
  grid-column:1/-1;
}

.filters label{
  font-size:14px;
  font-weight:600;
  color:var(--text-primary);
  display:block;
}

.filters input[type=search],
.filters input[type=number],
.filters select{
  padding:12px 16px;
  border:2px solid var(--border);
  border-radius:var(--radius-sm);
  font-size:14px;
  transition:var(--transition);
  background:white;
  width:100%;
}

.filters input:focus,
.filters select:focus{
  outline:none;
  border-color:var(--accent-blue);
  box-shadow:0 0 0 3px rgba(59,130,246,0.1);
}

/* Grupo de inputs (precio min-max) */
.input-group{
  display:grid;
  grid-template-columns:1fr auto 1fr;
  gap:8px;
  align-items:center;
}

.input-group input{
  min-width:0;
  padding:12px 12px;
}

.input-group .separator{
  color:var(--text-secondary);
  font-weight:600;
  padding:0 4px;
}

/* Marketplaces como grid de botones */
.marketplaces-grid{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:12px;
}

.marketplace-item{
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  margin:0;
}

.marketplace-item input[type=checkbox]{
  display:none;
}

.marketplace-label{
  display:flex;
  align-items:center;
  justify-content:center;
  padding:12px 16px;
  border-radius:var(--radius-sm);
  font-weight:600;
  font-size:14px;
  transition:var(--transition);
  width:100%;
  text-align:center;
  border:2px solid transparent;
  background:var(--bg-primary);
  color:var(--text-secondary);
}

.marketplace-item input[type=checkbox]:checked + .marketplace-label{
  transform:translateY(-2px);
  box-shadow:var(--shadow-md);
}

.marketplace-item input[type=checkbox]:checked + .marketplace-label.aliexpress{
  background:#ff4747;
  color:white;
  border-color:#ff4747;
}

.marketplace-item input[type=checkbox]:checked + .marketplace-label.temu{
  background:#ff6b35;
  color:white;
  border-color:#ff6b35;
}

.marketplace-item input[type=checkbox]:checked + .marketplace-label.shopify{
  background:#95bf47;
  color:white;
  border-color:#95bf47;
}

.marketplace-label:hover{
  transform:translateY(-2px);
  box-shadow:var(--shadow-sm);
}

/* Checkbox especial para "Solo en oferta" */
.checkbox-row{
  display:flex;
  align-items:center;
}

.checkbox-label{
  display:flex;
  align-items:center;
  gap:10px;
  cursor:pointer;
  padding:12px 16px;
  background:var(--bg-primary);
  border-radius:var(--radius-sm);
  transition:var(--transition);
  border:2px solid transparent;
  font-weight:600;
  width:100%;
  justify-content:center;
}

.checkbox-label:hover{
  background:#fff3e0;
  transform:translateY(-2px);
}

.checkbox-label input[type=checkbox]{
  width:20px;
  height:20px;
  cursor:pointer;
  accent-color:var(--danger);
}

.checkbox-label input[type=checkbox]:checked{
  transform:scale(1.1);
}

/* Acciones del filtro */
.filter-actions{
  display:flex;
  align-items:center;
  gap:12px;
  padding-top:8px;
  border-top:2px solid var(--border);
  margin-top:8px;
}

.btn{
  padding:12px 24px;
  border-radius:var(--radius-sm);
  border:none;
  cursor:pointer;
  font-weight:600;
  font-size:14px;
  transition:var(--transition);
  box-shadow:var(--shadow-sm);
  white-space:nowrap;
}

.btn:hover{
  transform:translateY(-2px);
  box-shadow:var(--shadow-md);
}

.btn.primary{
  background:linear-gradient(135deg,var(--accent-blue),var(--accent-purple));
  color:white;
}

.btn.primary:hover{
  box-shadow:0 8px 16px rgba(59,130,246,0.3);
}

.btn.secondary{
  background:var(--bg-primary);
  color:var(--text-primary);
  border:2px solid var(--border);
}

.btn.secondary:hover{
  background:#f1f5f9;
}

.spacer{
  flex:1;
}

.view-label{
  font-weight:600;
  color:var(--text-secondary);
  white-space:nowrap;
}

.view-select{
  padding:10px 16px;
  border:2px solid var(--border);
  border-radius:var(--radius-sm);
  font-size:14px;
  font-weight:600;
  background:white;
  cursor:pointer;
  transition:var(--transition);
}

.view-select:hover,
.view-select:focus{
  border-color:var(--accent-blue);
  outline:none;
}

/* Panel de resultados */
.results-panel{margin-top:24px}
.results-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:20px;
  padding:20px;
  background:var(--bg-secondary);
  border-radius:var(--radius);
  box-shadow:var(--shadow-md);
}
.results-header>div:first-child{
  display:flex;
  align-items:center;
  gap:12px;
  flex-wrap:wrap;
}
#resultsCount{
  font-weight:700;
  font-size:20px;
  color:var(--accent-blue);
}
.filters-chips{display:inline-flex;gap:8px;flex-wrap:wrap}
.chip{
  background:linear-gradient(135deg,#e0e7ff,#ddd6fe);
  padding:6px 12px;
  border-radius:999px;
  font-size:12px;
  font-weight:600;
  color:var(--accent-purple);
  box-shadow:var(--shadow-sm);
}

.controls{display:flex;align-items:center;gap:12px;flex-wrap:wrap}
.controls label{font-weight:600;color:var(--text-secondary)}

/* Tarjetas mejoradas */
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(280px,1fr));
  gap:24px;
}
.card{
  background:var(--bg-secondary);
  border-radius:var(--radius);
  box-shadow:var(--shadow-md);
  overflow:hidden;
  transition:var(--transition);
  display:flex;
  flex-direction:column;
  position:relative;
}
.card:hover{
  transform:translateY(-8px);
  box-shadow:var(--shadow-xl);
}
.card .thumb{
  height:220px;
  background:linear-gradient(135deg,#f3f4f6,#e5e7eb);
  overflow:hidden;
  position:relative;
}
.card .thumb img{
  width:100%;
  height:100%;
  object-fit:cover;
  transition:var(--transition);
}
.card:hover .thumb img{transform:scale(1.1)}

.card>div:not(.thumb){padding:0 20px}
.card>div:last-child{padding-bottom:20px}
.card>div:nth-child(2){padding-top:16px}

.card strong{
  font-size:16px;
  font-weight:700;
  color:var(--text-primary);
  display:block;
  line-height:1.4;
  margin-bottom:8px;
}

/* Badges personalizados por marketplace */
.badge{
  display:inline-block;
  padding:4px 12px;
  border-radius:999px;
  font-size:11px;
  font-weight:700;
  text-transform:uppercase;
  letter-spacing:0.5px;
}
.badge.aliexpress{background:#ff4747;color:white}
.badge.temu{background:#ff6b35;color:white}
.badge.shopify{background:#95bf47;color:white}

.muted{color:var(--text-secondary);font-size:14px;display:flex;align-items:center;gap:8px}
.price{
  font-weight:800;
  font-size:24px;
  color:var(--accent-blue);
  margin:8px 0;
}
.offer{
  position:absolute;
  top:12px;
  right:12px;
  background:var(--danger);
  color:white;
  padding:6px 12px;
  border-radius:var(--radius-sm);
  font-weight:700;
  font-size:12px;
  box-shadow:var(--shadow-md);
  z-index:10;
}
.rating{
  color:var(--warning);
  font-weight:600;
  display:inline-flex;
  align-items:center;
  gap:4px;
}
.rating::before{content:"⭐"}

/* Tabla mejorada */
.table-wrap{
  overflow:auto;
  background:var(--bg-secondary);
  border-radius:var(--radius);
  box-shadow:var(--shadow-md);
  padding:20px;
}
table{width:100%;border-collapse:collapse}
th,td{padding:16px;border-bottom:1px solid var(--border);text-align:left}
th{
  background:var(--bg-primary);
  font-weight:700;
  cursor:pointer;
  user-select:none;
  transition:var(--transition);
  text-transform:uppercase;
  font-size:12px;
  letter-spacing:0.5px;
  color:var(--text-secondary);
}
th:hover{background:#dbeafe;color:var(--accent-blue)}
td img{border-radius:var(--radius-sm);box-shadow:var(--shadow-sm)}
tbody tr{transition:var(--transition)}
tbody tr:hover{background:var(--bg-primary)}

/* Estados */
.hidden{display:none!important}
.no-results{
  padding:60px 20px;
  background:var(--bg-secondary);
  border-radius:var(--radius);
  text-align:center;
  box-shadow:var(--shadow-md);
}
.no-results p{
  font-size:18px;
  color:var(--text-secondary);
  max-width:500px;
  margin:0 auto;
}

/* Footer mejorado */
.site-footer{
  margin-top:60px;
  padding:32px 0;
  background:rgba(255,255,255,0.95);
  backdrop-filter:blur(10px);
  border-top:1px solid var(--border);
}
.site-footer .container{
  display:flex;
  justify-content:space-between;
  align-items:center;
  flex-wrap:wrap;
  gap:16px;
}
.site-footer small{color:var(--text-secondary);font-size:14px}
.site-footer nav a{
  color:var(--text-secondary);
  text-decoration:none;
  font-weight:500;
  transition:var(--transition);
}
.site-footer nav a:hover{color:var(--accent-blue)}

/* Responsive mejorado */
@media (max-width:768px){
  .grid{grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:16px}
  .search-panel{padding:24px 16px}
  .search-panel h1{font-size:24px}
  .filters{grid-template-columns:1fr;gap:16px}
  .marketplaces-grid{grid-template-columns:1fr}
  .input-group{grid-template-columns:1fr auto 1fr}
  .header-inner{flex-direction:column;align-items:flex-start;gap:12px}
  .main-nav{width:100%}
  .results-header{flex-direction:column;gap:16px;align-items:flex-start}
  .controls{width:100%;justify-content:space-between}
  .filter-actions{flex-wrap:wrap}
  .btn{flex:1;min-width:120px}
}

@media (max-width:480px){
  .grid{grid-template-columns:1fr}
  .container{padding:12px}
  .filter-actions{flex-direction:column}
  .filter-actions .btn{width:100%;flex:none}
  .view-label,.view-select{width:100%}
  .spacer{display:none}
  .input-group{grid-template-columns:1fr;gap:4px}
  .input-group .separator{text-align:center;padding:4px 0}
}
